<!-- templates/partials/bill_of_materials.html -->

<div class="page">
  <!-- Include the shared header partial (no “partials/” prefix here) -->
  <%- include('header.html') %>

  <h3 style="margin-top: 8px; margin-bottom: 4px;">BILL OF MATERIALS</h3>

  <table style="width: 100%; border-collapse: collapse;">
    <thead>
      <tr>
        <th style="border: 1px solid #000; padding: 4px;">ITEM #</th>
        <th style="border: 1px solid #000; padding: 4px;">DESCRIPTION</th>
        <th style="border: 1px solid #000; padding: 4px;">QTY/SET</th>
        <th style="border: 1px solid #000; padding: 4px;">TOTAL QTY</th>
        <th style="border: 1px solid #000; padding: 4px;">UOM</th>
      </tr>
    </thead>
    <tbody>
      <% 
        // Loop through each item in the bill_of_materials array.
        // ‘minimum_number_of_sets’ must already be defined in the EJS context.
        bill_of_materials.forEach(function(item, i) { 
      %>
        <tr style="<%= (i % 2 === 0) ? 'background-color: #f9f9f9;' : '' %>">
          <td style="border: 1px solid #000; padding: 4px;">
            <%= item.item_number %>
          </td>
          <td style="border: 1px solid #000; padding: 4px;">
            <%= item.description %>
          </td>
          <td style="border: 1px solid #000; padding: 4px; text-align: right;">
            <%= item.qty_per_set %>
          </td>
          <td style="border: 1px solid #000; padding: 4px; text-align: right;">
            <%= item.qty_per_set * minimum_number_of_sets %>
          </td>
          <td style="border: 1px solid #000; padding: 4px; text-align: center;">
            <%= item.uom %>
          </td>
        </tr>
      <% }) %>
    </tbody>
    <tfoot>
      <tr>
        <td colspan="2" style="border: 1px solid #000; padding: 4px; font-weight: bold; text-align: right;">
          TOTAL SETS:
        </td>
        <td colspan="3" style="border: 1px solid #000; padding: 4px; text-align: left;">
          <%= minimum_number_of_sets %>
        </td>
      </tr>
    </tfoot>
  </table>
</div>
